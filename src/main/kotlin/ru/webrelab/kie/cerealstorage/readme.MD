# task
## Склад крупы. Реализация функциональности и покрытие unit тестами JUnit5
* Заведи аккаунт на GitHub если его ещё нет.
* Сделай форк этого репозитория в свой.
* Клонируй на свой компьютер проект из своего форка (не из моего репозитория).
* Рассмотри интерфейс CerealStorage, он содержит подробное описание функциональности будущего склада.
* Дополни класс CerealStorageImpl недостающими методами.
* Перейди в тестовый класс для CerealStorageImpl. Для выбранного метода напиши набор unit тестов, которые будут покрывать те требования к методу, что перечислены в документации к методу интерфейса.
* После написания тестов к методу напиши его реализацию и выполни тесты. Если тесты найдут ошибку - исправь.
* Реализуй тесты на все методы и работающий код для всех методов.
* В этом упражнении старайся придерживаться подхода Test Driven Development - сначала тесты, потом реализация. Но это не является фактором засчитывания работы.
* Обратите внимание при сравнении двух дробных значений: расчётное значение может быть 1.10038 вместо 1.1 - это особенность расчёта значений с плавающей точкой. Чтобы такие значения сравнить нужно использовать проверку на равенство с дельтой, которая передаётся третьим аргументом в assertEquals. Для дельты достаточно значения 0.01

## Метрики оценивания работы
* Пиши код с отключенным AI помощником. Можешь спрашивать у GPT как сделать какую-то конкретную вещь, но не поручай ему решение задачи. Этот тест нужен для того, что бы ты сам понял, сможешь ли ты учиться на курсе и своевременно делать работу. Иначе просто отнимешь время у себя и у меня.
* Функциональность всех методов должна быть реализована.
* Тесты должны покрывать все требования перечисленные к методам интерфейса.
* Все тесты должны быть зелёными.
* Код должен быть отформатирован средой разработки. Избавься от лишних пробелов, не допускай длинных строк.
* Старайся использовать все возможности Kotlin, которые позволяют сократить количество кода.
* Код не должен дублироваться. Дублирующимся будет считаться два и более аналогичных блока кода размером в 4 строки и более.

# decision
* containerCapacity и storageCapacity должны проверять условия при инициализации. Например, containerCapacity не может быть отрицательным, а storageCapacity должно быть не меньше containerCapacity. Значит, в реализации нужно добавить проверки в конструкторе или при инициализации этих свойств. 
* Метод addCereal добавляет крупу в существующий контейнер или создает новый, возвращает оставшуюся крупу, если контейнер заполнился. Нужно обработать случаи, когда добавляется новая крупа, и проверять, можно ли добавить новый контейнер в хранилище. Если нет места, бросать IllegalStateException. 
* Также проверять отрицательные значения amount. 
* Метод getCereal извлекает крупу из контейнера. Возвращает фактически извлеченное количество. Если запрошено больше, чем есть, возвращает остаток. Нужно проверить отрицательный amount и убедиться, что контейнер существует. 
* removeContainer удаляет контейнер, только если он пуст. Возвращает true, если удалили, иначе false. Нужно проверить наличие крупы в контейнере. 
* getAmount возвращает текущее количество крупы в контейнере. Если контейнера нет, вероятно, возвращает 0f или кидает исключение? В описании не указано, возможно, возвращает 0f. 
* getSpace возвращает доступное место в контейнере. То есть containerCapacity минус текущее количество. 
* toString нужно реализовать текстовое представление, возможно, список контейнеров с их количеством.

## Тесты для addCereal:
1. Добавление в существующий контейнер, когда есть место. Проверяем, что количество увеличилось, остаток 0.
2. Добавление, при котором контейнер заполняется полностью, остаток равен излишку.
3. Попытка добавить отрицательное количество —> должно быть исключение.
4. Добавление новой крупы, когда хранилище заполнено (нет места для нового контейнера) —> IllegalStateException.

## Реализация метода addCereal:
* Проверка amount >= 0.
* Если контейнер уже есть, добавляем в него, учитывая доступное место. Если контейнера нет, проверяем, можно ли добавить новый (сравнивая текущее количество контейнеров с storageCapacity / containerCapacity). Если нельзя -> исключение.
* Рассчитываем, сколько добавится, остаток возвращаем.

## Тесты для getCereal:
1. Извлечение части крупы, контейнер существует.
2. Извлечение больше, чем есть — возвращает остаток, контейнер становится пустым.
3. Отрицательное количество — исключение.
4. Попытка извлечь из несуществующего контейнера — возвращает 0f?

## Реализация getCereal:
* Проверка amount >= 0.
* Если контейнер есть, уменьшаем количество на amount (но не < 0). Возвращаем фактически извлеченное количество.

## Тесты для removeContainer:
1. Удаление существующего пустого контейнера — возвращает true.
2. Попытка удалить непустой контейнер — возвращает false.
3. Удаление несуществующего контейнера — возвращает false.

## Реализация removeContainer:
* Проверяем, есть ли контейнер, и если количество 0, то удаляем и возвращаем true.

## Тесты для getAmount и getSpace:
* Проверка возврата 0, если контейнера нет. 
* Возврат текущего значения для существующего контейнера.